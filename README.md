# Custom Blast Radius

A custom implementation of the [Blast Radius](https://github.com/28mm/blast-radius) application for creating interactive visualizations of Terraform dependency graphs. This application provides a modern, feature-rich alternative to the original with enhanced functionality and real-world Terraform examples.

## Visual Examples

### Interactive Dependency Graph
The application generates interactive dependency graphs that visualize the relationships between Terraform resources:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VPC Module    â”‚â”€â”€â”€â–¶â”‚  Public Subnet  â”‚â”€â”€â”€â–¶â”‚ Internet Gatewayâ”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Private Subnet  â”‚â”€â”€â”€â–¶â”‚  NAT Gateway    â”‚â”€â”€â”€â–¶â”‚  Route Table    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Security Group  â”‚â”€â”€â”€â–¶â”‚  EC2 Instance   â”‚â”€â”€â”€â–¶â”‚  RDS Database   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Multi-Tier Application Architecture
Complex infrastructure with multiple layers and dependencies:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Load Balancer                    â”‚
â”‚                         (ALB Module)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Auto Scaling Group                          â”‚
â”‚                    (ASG Module)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ EC2 Instanceâ”‚  â”‚ EC2 Instanceâ”‚  â”‚ EC2 Instanceâ”‚            â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RDS Database                                â”‚
â”‚                    (RDS Module)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Web Interface Features
The interactive web interface provides:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Blast Radius - Terraform Dependencies        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” Search] [ğŸ“Š Filter] [ğŸ’¾ Export] [âš™ï¸ Settings]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚ VPC â”‚â”€â”€â”€â–¶â”‚ SG  â”‚â”€â”€â”€â–¶â”‚ EC2 â”‚â”€â”€â”€â–¶â”‚ RDS â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â”‚     â”‚           â”‚           â”‚           â”‚              â”‚   â”‚
â”‚  â”‚     â–¼           â–¼           â–¼           â–¼              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚Subnetâ”‚    â”‚IAM  â”‚    â”‚ALB  â”‚    â”‚CW   â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  Legend: VPC=Virtual Private Cloud, SG=Security Group,        â”‚
â”‚          EC2=Elastic Compute Cloud, RDS=Relational Database   â”‚
â”‚          ALB=Application Load Balancer, CW=CloudWatch         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Resource Type Color Coding
Different resource types are color-coded for easy identification:

- ğŸ”µ **Blue**: VPC and Networking (VPC, Subnets, Route Tables)
- ğŸŸ¢ **Green**: Compute Resources (EC2, Lambda, ECS)
- ğŸŸ¡ **Yellow**: Storage Resources (S3, RDS, EBS)
- ğŸ”´ **Red**: Security Resources (IAM, Security Groups)
- ğŸŸ£ **Purple**: Monitoring Resources (CloudWatch, SNS)
- ğŸŸ  **Orange**: Load Balancing (ALB, NLB, Target Groups)

### Output Format Examples
The application supports multiple output formats for different use cases:

#### HTML Output (Interactive)
```html
<!-- Interactive visualization with D3.js -->
<div id="blast-radius-graph">
  <svg width="1200" height="800">
    <!-- Interactive nodes and edges -->
    <g class="nodes">
      <circle class="node vpc" cx="100" cy="100" r="20"/>
      <circle class="node subnet" cx="300" cy="100" r="15"/>
      <!-- More nodes... -->
    </g>
    <g class="edges">
      <line class="edge" x1="120" y1="100" x2="285" y2="100"/>
      <!-- More edges... -->
    </g>
  </svg>
</div>
```

#### SVG Output (Vector Graphics)
```svg
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  <g class="graph">
    <!-- Graph content -->
  </g>
</svg>
```

#### JSON Output (Data Structure)
```json
{
  "nodes": [
    {
      "id": "vpc",
      "type": "aws_vpc",
      "name": "main-vpc",
      "position": {"x": 100, "y": 100},
      "color": "#4A90E2",
      "group": "networking"
    },
    {
      "id": "subnet",
      "type": "aws_subnet", 
      "name": "public-subnet",
      "position": {"x": 300, "y": 100},
      "color": "#4A90E2",
      "group": "networking"
    }
  ],
  "edges": [
    {
      "source": "vpc",
      "target": "subnet",
      "type": "dependency"
    }
  ]
}
```

## Overview

Custom Blast Radius is a Python-based tool that parses Terraform configurations and generates interactive dependency graphs. It supports multiple output formats including HTML, SVG, PNG, and JSON, and provides a web interface for exploring infrastructure dependencies.

## Features

- **Interactive Visualizations**: Generate interactive HTML diagrams with zoom, pan, and search capabilities
- **Multiple Output Formats**: Export diagrams as SVG, PNG, or JSON for integration with other tools
- **Web Interface**: Serve diagrams via a Flask web server for easy exploration
- **Real-world Examples**: Includes comprehensive Terraform examples using official registry modules
- **Docker Support**: Containerized deployment for consistent environments
- **Comprehensive Testing**: Full test suite with pytest
- **Modern Architecture**: Built with Python 3.11+ and modern dependencies

## Prerequisites

- Python 3.11 or higher
- Graphviz (for graph layout)
- Docker (optional, for containerized deployment)

## Quick Start

### Local Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd blast-radius
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

3. Run with a Terraform example:
```bash
python blast_radius.py --serve examples/aws-vpc
```

### Docker Deployment

The application can be deployed using Docker for consistent environments:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Container                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                Custom Blast Radius                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              Flask Web Server                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Port: 5000                                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - Interactive Graph Viewer                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - Export Functionality                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - Search and Filter                             â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              Terraform Parser                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - HCL2 Parser                                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - Dependency Extraction                         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - Graph Generation                              â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              Graphviz Engine                     â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - Layout Algorithms                             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - SVG Generation                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  - PNG Export                                    â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Host System                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Terraform Files â”‚  â”‚   Web Browser   â”‚  â”‚  Output Files   â”‚ â”‚
â”‚  â”‚ (Mounted Volume)â”‚  â”‚  (Port 5000)    â”‚  â”‚  (Shared Dir)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. Build the Docker image:
```bash
docker build -t custom-blast-radius .
```

2. Run the container:
```bash
docker run -p 5000:5000 -v $(pwd)/examples:/data:ro custom-blast-radius
```

## Terraform Examples

The application includes several comprehensive Terraform examples that demonstrate real-world infrastructure patterns using official Terraform registry modules:

### AWS VPC Example (`examples/aws-vpc/`)

A complete VPC setup with public and private subnets, using the official AWS VPC module:

```terraform
module "vpc" {
  source = "terraform-aws-modules/vpc/aws"
  version = "5.0.0"
  
  name = var.project_name
  cidr = var.vpc_cidr
  
  azs             = data.aws_availability_zones.available.names
  private_subnets = var.private_subnet_cidrs
  public_subnets  = var.public_subnet_cidrs
  
  enable_nat_gateway = true
  single_nat_gateway = true
  
  enable_dns_hostnames = true
  enable_dns_support   = true
}
```

### Multi-Tier Application Example (`examples/multi-tier-app/`)

A three-tier application architecture using multiple registry modules:

```terraform
module "vpc" {
  source = "terraform-aws-modules/vpc/aws"
  version = "5.0.0"
  # VPC configuration
}

module "alb" {
  source = "terraform-aws-modules/alb/aws"
  version = "8.7.0"
  # ALB configuration
}

module "rds" {
  source = "terraform-aws-modules/rds/aws"
  version = "6.1.0"
  # RDS configuration
}
```

### Kubernetes Example (`examples/kubernetes/`)

EKS cluster setup using the official EKS module:

```terraform
module "eks" {
  source = "terraform-aws-modules/eks/aws"
  version = "19.15.3"
  
  cluster_name    = var.cluster_name
  cluster_version = var.cluster_version
  
  vpc_id     = module.vpc.vpc_id
  subnet_ids = module.vpc.private_subnets
}
```

### Serverless Example (`examples/serverless/`)

Serverless architecture using Lambda and API Gateway modules:

```terraform
module "lambda_function" {
  source = "terraform-aws-modules/lambda/aws"
  version = "4.7.1"
  
  function_name = var.function_name
  handler       = "index.handler"
  runtime       = "nodejs18.x"
}

module "api_gateway" {
  source = "terraform-aws-modules/apigateway-v2/aws"
  version = "2.2.2"
  
  name = var.api_name
}
```

## Usage

### Application Workflow
The application follows this workflow to generate dependency graphs:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terraform Files â”‚â”€â”€â”€â–¶â”‚   HCL2 Parser   â”‚â”€â”€â”€â–¶â”‚  Parse Results  â”‚
â”‚ (main.tf, etc.) â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                       â”‚
                                â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Graph Builder  â”‚â—€â”€â”€â”€â”‚  Dependency     â”‚â—€â”€â”€â”€â”‚  Resource       â”‚
â”‚                 â”‚    â”‚  Extractor      â”‚    â”‚  Analyzer       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Graphviz       â”‚â”€â”€â”€â–¶â”‚  Layout Engine  â”‚â”€â”€â”€â–¶â”‚  Positioned     â”‚
â”‚  Layout         â”‚    â”‚                 â”‚    â”‚  Graph          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  D3.js          â”‚â”€â”€â”€â–¶â”‚  Interactive    â”‚â”€â”€â”€â–¶â”‚  Web Interface  â”‚
â”‚  Visualization  â”‚    â”‚  Features       â”‚    â”‚  (HTML/SVG)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Export         â”‚â”€â”€â”€â–¶â”‚  Multiple       â”‚â”€â”€â”€â–¶â”‚  Output Files   â”‚
â”‚  Functions      â”‚    â”‚  Formats        â”‚    â”‚  (PNG/JSON)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Command Line Interface

```bash
# Generate and serve interactive diagram
python blast_radius.py --serve /path/to/terraform/directory

# Export diagram to different formats
python blast_radius.py --export /path/to/terraform/directory --format html
python blast_radius.py --export /path/to/terraform/directory --format svg
python blast_radius.py --export /path/to/terraform/directory --format png
python blast_radius.py --export /path/to/terraform/directory --format json

# Generate all formats
python blast_radius.py --export /path/to/terraform/directory --format all
```

### Web Interface

When using the `--serve` option, the application starts a web server (default: http://localhost:5000) that provides:

- Interactive dependency graph visualization
- Zoom and pan controls
- Search functionality
- Node highlighting
- Resource type filtering
- Export options

## Project Structure

```
blast-radius/
â”œâ”€â”€ blast_radius.py          # Main application script
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ Dockerfile              # Docker configuration
â”œâ”€â”€ docker-compose.yml      # Multi-service Docker setup
â”œâ”€â”€ Makefile                # Build and deployment automation
â”œâ”€â”€ README.md               # This file
â”œâ”€â”€ examples/               # Terraform examples
â”‚   â”œâ”€â”€ aws-vpc/           # AWS VPC example
â”‚   â”œâ”€â”€ multi-tier-app/    # Multi-tier application
â”‚   â”œâ”€â”€ kubernetes/        # EKS cluster example
â”‚   â””â”€â”€ serverless/        # Serverless architecture
â”œâ”€â”€ tests/                 # Test suite
â”‚   â””â”€â”€ test_blast_radius.py
â””â”€â”€ output/                # Generated diagrams (created at runtime)
```

## Development

### Setting Up Development Environment

1. Create a virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

2. Install development dependencies:
```bash
pip install -r requirements.txt
```

3. Run tests:
```bash
pytest tests/
```

### Code Style

The project uses:
- **Black** for code formatting
- **Flake8** for linting
- **pytest** for testing

Format code before committing:
```bash
black blast_radius.py tests/
flake8 blast_radius.py tests/
```

## API Reference

### BlastRadius Class

The main class for generating dependency graphs:

```python
from blast_radius import BlastRadius

# Initialize with Terraform directory
br = BlastRadius("/path/to/terraform/directory")

# Parse Terraform files
br.parse_terraform()

# Generate graph
graph = br.generate_graph()

# Export to different formats
br.export_html("output.html")
br.export_svg("output.svg")
br.export_png("output.png")
br.export_json("output.json")
```

### Command Line Options

- `--serve <directory>`: Start web server for interactive visualization
- `--export <directory>`: Export diagram to file(s)
- `--format <format>`: Output format (html, svg, png, json, all)
- `--host <host>`: Web server host (default: localhost)
- `--port <port>`: Web server port (default: 5000)
- `--output <directory>`: Output directory for exported files

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests for new functionality
5. Ensure all tests pass
6. Submit a pull request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- Original Blast Radius project by [28mm](https://github.com/28mm/blast-radius)
- D3.js for interactive visualizations
- Graphviz for graph layout algorithms
- Terraform community for registry modules

## Support

For issues and questions:
- Check the examples directory for usage patterns
- Review the test suite for implementation details
- Open an issue on the repository

## Key Improvements Over Original

- **Modern Python**: Built with Python 3.11+ and modern dependencies
- **Registry Modules**: Examples use official Terraform registry modules
- **Enhanced Testing**: Comprehensive test suite with pytest
- **Docker Support**: Containerized deployment for consistency
- **Better Documentation**: Detailed documentation without emoticons
- **Real-world Examples**: Practical Terraform configurations
- **Improved Error Handling**: Better error messages and debugging
- **Performance Optimizations**: Faster parsing and rendering